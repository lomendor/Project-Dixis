# AG97.6 â€” CODEMAP

## File Movements

### frontend/tests/e2e/admin-orders-facets-aggregation.pg-e2e.spec.ts
- **Origin**: `frontend/tests/pg-e2e/orders-facets-aggregation.spec.ts` (AG97.3)
- **Destination**: `frontend/tests/e2e/admin-orders-facets-aggregation.pg-e2e.spec.ts`
- **Reason 1**: Playwright config has `testDir: './tests/e2e'`, must be inside that directory
- **Reason 2**: Playwright projects use `testMatch` patterns - renamed to `admin-*.spec.ts` to match admin project pattern

## Modified Files

### .github/workflows/pg-e2e.yml (line 68)
- **Old**: `pnpm exec playwright test tests/pg-e2e/orders-facets-aggregation.spec.ts --reporter=line`
- **New**: `pnpm exec playwright test tests/e2e/admin-orders-facets-aggregation.pg-e2e.spec.ts --reporter=line`

## Why This Change

### Playwright Test Discovery
- Config file (`playwright.config.ts` line 38): `testDir: './tests/e2e'`
- Playwright only searches for tests within configured testDir
- Tests outside testDir are not discovered, even with explicit path
- Solution: Move test inside testDir

### Naming Convention
- Pattern: `*.pg-e2e.spec.ts` distinguishes PG-specific E2E tests
- Keeps all E2E tests in one directory for easier management
- Maintains clarity about test purpose

## Impact
- **Zero test content change**: Test logic unchanged
- **Enables discovery**: Playwright can now find the test
- **Workflow updated**: Points to new path
