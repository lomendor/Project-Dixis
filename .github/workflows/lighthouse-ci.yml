name: Lighthouse CI (dixis.gr)
on:
  schedule:
    - cron: "0 6 * * 1"   # κάθε Δευτέρα 06:00
  workflow_dispatch:

jobs:
  lhci:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Run Lighthouse on prod
        uses: treosh/lighthouse-ci-action@v12
        with:
          urls: |
            https://dixis.gr/
            https://dixis.gr/products
            https://dixis.gr/api/healthz
          uploadArtifacts: true
          temporaryPublicStorage: true
          configPath: .github/lhci-config.json
      - name: Print short scores
        run: |
          echo "ℹ️ Δες artifacts για λεπτομέρειες Lighthouse."
